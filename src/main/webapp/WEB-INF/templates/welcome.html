<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Home page</title>
</head>
<body>
<h1> Ciao, <span th:text="${username}"> Username </span></h1>
<h2> Prodotto del giorno</h2>

<p>
    <img class='img-thumbnail' th:if="${product != null}"
         th:src="'data:image/jpeg;base64,' + ${product.getImageBase64()}"/>
</p>

<p>
<td th:text="${product ? product.getName() : null} ?: 'No product of the day :/'"></td>
</p>


<p><a href="marketing-questions"> Questionnaire </a></p>

<td th:switch="${#lists.size(reviews)}">
    <span th:case="'0'"> No one answered yet! Be the first to answer! </span>
    <div th:case="*">
        <table style="width:50%">
            <thead>
            <tr>
                <th> Username</th>
                <th> Review</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="review : ${reviews}">
                <td style="text-align:center">
                    <span th:text="${review.getQuestionnaireSubmission().getUser().getUsername()}"> Username </span>
                </td>
                <td style="text-align:center"><span th:text="${review.getQuestion().getText()} + ' - ' + ${review.getText()}"> Review </span></td>
            </tr>
            </tbody>
        </table>
    </div>
</td>
</body>
</html>